<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>

<!-- Wrap in ScrollPane so small screens can scroll instead of clipping -->
<ScrollPane xmlns="http://javafx.com/javafx/21.0.6"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.trackit.DetailTrackingPageController"
            fitToWidth="true"
            fitToHeight="true"
            style="-fx-background:white;">

    <content>
        <AnchorPane style="-fx-background-color:white">

            <HBox alignment="CENTER"
                  spacing="38"
                  AnchorPane.topAnchor="16"
                  AnchorPane.leftAnchor="16"
                  AnchorPane.rightAnchor="16"
                  AnchorPane.bottomAnchor="16"
                  style="-fx-padding:16">

                <!-- LEFT COLUMN -->
                <VBox spacing="22"
                      alignment="TOP_LEFT"
                      HBox.hgrow="ALWAYS"
                      style="-fx-background-color: white">

                    <HBox spacing="16" alignment="CENTER_LEFT">
                        <Button fx:id="backButton"
                                onAction="#goBack"
                                text="← Back!"
                                styleClass="track-button-border"/>

                        <Label text="Order Details"
                               style="-fx-font-size: 25px;
                                      -fx-font-weight: bold;
                                      -fx-text-fill: #493CD6;" />
                    </HBox>

                    <Label fx:id="trackingNumLabel"
                           styleClass="detail-section-header"/>

                    <!-- Package Details Card -->
                    <VBox spacing="14" styleClass="tracking-info-card">
                        <Label text="Package Details"
                               styleClass="detail-section-header"/>

                        <HBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="Status:" styleClass="detail-sub-label"/>
                            <Label fx:id="statusLabel"
                                   styleClass="detail-status-pill-onway"/>
                        </HBox>

                        <HBox spacing="8">
                            <Label text="Package Type:"
                                   styleClass="detail-sub-label"/>
                            <Label fx:id="packageTypeLabel"
                                   styleClass="detail-status-pill-onway"/>
                        </HBox>

                        <Label text="Items:" styleClass="detail-sub-label"/>
                        <VBox fx:id="itemsBox" spacing="2"/>

                        <Label text="Order Date:" styleClass="detail-sub-label"/>
                        <Label fx:id="orderDateLabel"
                               styleClass="detail-value-label"/>

                        <Label text="Current Location:"
                               styleClass="detail-sub-label"/>
                        <Label fx:id="locationLabel"
                               styleClass="detail-value-label"/>

                        <Label text="Delivery Address:"
                               styleClass="detail-sub-label"/>
                        <Label fx:id="addressLabel"
                               styleClass="detail-value-label"/>
                    </VBox>

                    <!-- Delivery Timeline Card -->
                    <VBox spacing="10" styleClass="tracking-info-card">
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label text="Delivery Timeline"
                                   styleClass="detail-section-header"/>
                            <Label text="⏱" style="-fx-font-size:15px;"/>
                        </HBox>

                        <Label text="Estimated Delivery:"
                               styleClass="detail-sub-label"/>
                        <Label fx:id="estDateLabel"
                               styleClass="detail-value-label"/>

                        <HBox spacing="16" alignment="CENTER_LEFT">
                            <Label text="Days Remaining:"
                                   styleClass="detail-sub-label"/>
                            <Label fx:id="daysRemainingLabel"
                                   styleClass="detail-value-label"/>
                        </HBox>

                        <VBox spacing="2">
                            <ProgressBar fx:id="deliveryProgressBar"
                                         prefWidth="160"
                                         prefHeight="8"
                                         style="-fx-accent: #493CD6;"/>

                            <Label fx:id="progressLabel"
                                   style="-fx-font-size:12px;
                                          -fx-text-fill:#493CD6;"/>
                        </VBox>
                    </VBox>
                </VBox>

                <!-- RIGHT COLUMN -->
                <VBox spacing="20"
                      alignment="TOP_LEFT"
                      styleClass="tracking-info-card"
                      HBox.hgrow="ALWAYS">

                    <Label text="Package Location"
                           styleClass="detail-section-header"/>

                    <Label text="Real-time tracking from warehouse to your doorstep"
                           style="-fx-font-size:13px;
                                  -fx-text-fill:#888"/>

                    <!-- GOOGLE STATIC MAP GOES HERE -->
                    <ImageView fx:id="mapImageView"
                               fitWidth="640"
                               fitHeight="360"
                               preserveRatio="true"
                               smooth="true"
                               styleClass="map-placeholder"/>

                    <HBox spacing="6" alignment="CENTER_LEFT">
                        <Label text="Latest Update:"
                               styleClass="detail-sub-label"/>
                        <Label fx:id="latestUpdateLabel"
                               styleClass="detail-value-label"/>
                    </HBox>
                </VBox>

            </HBox>
        </AnchorPane>
    </content>
</ScrollPane>

